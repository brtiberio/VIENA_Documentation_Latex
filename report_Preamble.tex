%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                      %
%     File: report_Preamble.tex                                        %
%     Tex Master: report.tex                                           %
%                                                                      %
%     Author: Bruno Tibério                                            %
%     Last modified :  1 Jul 2017                                      %
%                                                                      %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ----------------------------------------------------------------------
% Define document language.
% ----------------------------------------------------------------------

% 'inputenc' package
%
% Accept different input encodings.
% http://www.ctan.org/tex-archive/macros/latex/base/
%
% > allows typing non-english text in LaTeX sources.
%
% ******************************* SELECT *******************************
%\usepackage[latin1]{inputenc} % <<<<< Windows
\usepackage[utf8]{inputenc}   % <<<<< Linux
% ******************************* SELECT *******************************


% 'babel' package
%
% Multilingual support for Plain TeX or LaTeX.
% http://www.ctan.org/tex-archive/macros/latex/required/babel/
%
% > sets the variable names according to the language selected
%
% ******************************* SELECT *******************************
%\usepackage[portuguese]{babel} % <<<<< Portuguese
\usepackage[english]{babel} % <<<<< English
% ******************************* SELECT *******************************

%-----------------------------------------------------------------------
% Dumb text generator for in development tests
%-----------------------------------------------------------------------
\usepackage{blindtext}

% List of LaTeX variable names: \abstractname, \appendixname, \bibname,
%   \chaptername, \contentsname, \listfigurename, \listtablename, ...)
% http://www.tex.ac.uk/cgi-bin/texfaq2html?label=fixnam
%
% Changing the words babel uses (uncomment and redefine as necessary...)
%
\newcommand{\acknowledgments}{@undefined} % new LaTeX variable name
%
% > English
%
\addto\captionsenglish{\renewcommand{\acknowledgments}{Acknowledgments}}
%\addto\captionsenglish{\renewcommand{\contentsname}{Contents}}
%\addto\captionsenglish{\renewcommand{\listtablename}{List of Tables}}
%\addto\captionsenglish{\renewcommand{\listfigurename}{List of Figures}}
%\addto\captionsenglish{\renewcommand{\nomname}{Nomenclature}}
%\addto\captionsenglish{\renewcommand{\glossaryname}{Glossary}}
%\addto\captionsenglish{\renewcommand{\acronymname}{List of Acronyms}}
%\addto\captionsenglish{\renewcommand{\bibname}{References}} % Bibliography
%\addto\captionsenglish{\renewcommand{\appendixname}{Appendix}}
%
%% > Portuguese
%%
%%\addto\captionsportuguese{\renewcommand{\acknowledgments}{Agradecimentos}}
%%\addto\captionsportuguese{\renewcommand{\contentsname}{Conte\'{u}do}}
%%\addto\captionsportuguese{\renewcommand{\listtablename}{Lista de Figuras}}
%%\addto\captionsportuguese{\renewcommand{\listfigurename}{Lista de Tabelas}}
%%\addto\captionsportuguese{\renewcommand{\nomname}{Lista de S\'{i}mbolos}} %
%%Nomenclatura
%%\addto\captionsportuguese{\renewcommand{\glossary}{Gloss\'{a}rio}}
%%\addto\captionsportuguese{\renewcommand{\acronymname}{Lista de
%%Abrevia\c{c}\~{o}es}}
%%\addto\captionsportuguese{\renewcommand{\bibname}{Refer\^{e}ncias}} %
%%%Bibliografia
%%\addto\captionsportuguese{\renewcommand{\appendixname}{Anexo}} % Apendice

% ----------------------------------------------------------------------
% Define default and cover page fonts.
% ----------------------------------------------------------------------

% Use Arial font as default
%
\renewcommand{\rmdefault}{phv}
\renewcommand{\sfdefault}{phv}

% Define cover page fonts
%
%         encoding     family       series      shape
%  \usefont{T1}     {phv}=helvetica  {b}=bold    {n}=normal
%                   {ptm}=times      {m}=normal  {sl}=slanted
%                                                {it}=italic
% see more examples at
% http://julien.coron.free.fr/languages/latex/fonts/
%
\def\FontLn{% 16 pt normal
  \usefont{T1}{phv}{m}{n}\fontsize{16pt}{16pt}\selectfont}
\def\FontLb{% 16 pt bold
  \usefont{T1}{phv}{b}{n}\fontsize{16pt}{16pt}\selectfont}
\def\FontMn{% 14 pt normal
  \usefont{T1}{phv}{m}{n}\fontsize{14pt}{14pt}\selectfont}
\def\FontMb{% 14 pt bold
  \usefont{T1}{phv}{b}{n}\fontsize{14pt}{14pt}\selectfont}
\def\FontSn{% 12 pt normal
  \usefont{T1}{phv}{m}{n}\fontsize{12pt}{12pt}\selectfont}


\usepackage{bold-extra}
% ----------------------------------------------------------------------
% Define page margins and line spacing.
% ----------------------------------------------------------------------

% 'geometry' package
%
% Flexible and complete interface to document dimensions.
% http://www.ctan.org/tex-archive/macros/latex/contrib/geometry/
%
% > set the page margins (2.5cm minimum in every side, as per IST rules)
%
%\usepackage[showframe]{geometry}   % to see failed margins
\usepackage{geometry}
\geometry{verbose,tmargin=2.5cm,bmargin=2.5cm,lmargin=2.5cm,rmargin=2.5cm}

% 'setspace' package
%
% Set space between lines.
% http://www.ctan.org/tex-archive/macros/latex/contrib/setspace/
%
% > allow setting line spacing (line spacing of 1.5, as per IST rules)
%
\usepackage{setspace}
\renewcommand{\baselinestretch}{1.5}


% ----------------------------------------------------------------------
% Include external packages.
% Note that not all of these packages may be available on all system
% installations. If necessary, include the .sty files locally in
% the <jobname>.tex file directory.
% ----------------------------------------------------------------------

% 'graphicx' package
%
% Enhanced support for graphics.
% http://www.ctan.org/tex-archive/macros/latex/required/graphics/
%
% > extends arguments of the \includegraphics command
%
\usepackage{graphicx}

% ----------------------------------------------------------------------
% 'color' and extended color package
% ----------------------------------------------------------------------
% Colour control for LaTeX documents.
% http://www.ctan.org/tex-archive/macros/latex/required/graphics/
%
% > defines color macros: \color{<color name>}
%
\usepackage{color}
\usepackage{xcolor}

% good colors for graphics as in matlab higher versions
\definecolor{bluemat}{rgb}{0, 0.4470 ,0.7410}
\definecolor{redmat}{rgb}{0.8500, 0.3250, 0.0980}
\definecolor{yellowmat}{rgb}{0.9290, 0.6940, 0.1250}
\definecolor{greenmat}{rgb}{0.4660, 0.6740, 0.1880}

% ----------------------------------------------------------------------
% 'amsmath' package
% ----------------------------------------------------------------------
% Mathematical enhancements for LaTeX.
% http://www.ctan.org/tex-archive/macros/latex/required/amslatex/
%
% > American Mathematical Society plain Tex macros
%
\usepackage{amsmath}  % AMS mathematical facilities for LaTeX.
\usepackage{amsthm}   % Typesetting theorems (AMS style).
\usepackage{amsfonts} %
\usepackage{bm}       % for bold math

\allowdisplaybreaks[1] % allow breaking long multi-line equations across pages
\DeclareMathOperator{\atantwo}{atan2}
\DeclareMathOperator{\arctantwo}{arctan2}


%
%% 'wrapfig' package
%%
%% Produces figures which text can flow around.
%% http://www.ctan.org/tex-archive/macros/latex/contrib/wrapfig/
%%
%% > wrap figures/tables in text (i.e., Di Vinci style)
%%
%% \usepackage{wrapfig}


% ----------------------------------------------------------------------
% 'subfigure' package
% ----------------------------------------------------------------------
% Deprecated: Figures divided into subfigures.
% http://www.ctan.org/tex-archive/obsolete/macros/latex/contrib/subfigure/
% ----------------------------------------------------------------------
% using subcaption instead. Seems simple than subfig
% ----------------------------------------------------------------------
\usepackage[list=true]{subcaption}

% ----------------------------------------------------------------------
% 'url' package
% ----------------------------------------------------------------------
% Verbatim with URL-sensitive line breaks.
% http://www.ctan.org/tex-archive/macros/latex/contrib/url/
%
% > URLs in BibTex
%
\usepackage{url}

% ----------------------------------------------------------------------
% 'varioref' package
% ----------------------------------------------------------------------
% Intelligent page references.
% http://www.ctan.org/tex-archive/macros/latex/required/tools/
%
% > smart page, figure, table and equation referencing
%
%\usepackage{varioref}


% ----------------------------------------------------------------------
% 'dcolumn' package
% ----------------------------------------------------------------------
% Align on the decimal point of numbers in tabular columns.
% http://www.ctan.org/tex-archive/macros/latex/required/tools/
%
% > decimal-aligned tabular math columns
%
%\usepackage{dcolumn}
%\newcolumntype{d}{D{.}{.}{-1}} % column aligned by the point separator '.'
%\newcolumntype{e}{D{E}{E}{-1}} % column aligned by the exponent 'E'

% ----------------------------------------------------------------------
% Tikz package related
% ----------------------------------------------------------------------
\usepackage{tikz}
% to create numbered circles: see https://tex.stackexchange.com/a/7045/134747
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
		\node[shape=circle,draw,inner sep=2pt] (char) {#1};}}

% ----------------------------------------------------------------------
% For creating 3d plots with tikz
% ----------------------------------------------------------------------
\usepackage{tikz-3dplot}
% Redefine rotation sequence for tikz3d-plot to z-y-x
\newcommand{\tdseteulerxyz}{
	\renewcommand{\tdplotcalctransformrotmain}{%
		%perform some trig for the Euler transformation
		\tdplotsinandcos{\sinalpha}{\cosalpha}{\tdplotalpha}
		\tdplotsinandcos{\sinbeta}{\cosbeta}{\tdplotbeta}
		\tdplotsinandcos{\singamma}{\cosgamma}{\tdplotgamma}
		%
		\tdplotmult{\sasb}{\sinalpha}{\sinbeta}
		\tdplotmult{\sasg}{\sinalpha}{\singamma}
		\tdplotmult{\sasbsg}{\sasb}{\singamma}
		%
		\tdplotmult{\sacb}{\sinalpha}{\cosbeta}
		\tdplotmult{\sacg}{\sinalpha}{\cosgamma}
		\tdplotmult{\sasbcg}{\sasb}{\cosgamma}
		%
		\tdplotmult{\casb}{\cosalpha}{\sinbeta}
		\tdplotmult{\cacb}{\cosalpha}{\cosbeta}
		\tdplotmult{\cacg}{\cosalpha}{\cosgamma}
		\tdplotmult{\casg}{\cosalpha}{\singamma}
		%
		\tdplotmult{\cbsg}{\cosbeta}{\singamma}
		\tdplotmult{\cbcg}{\cosbeta}{\cosgamma}
		%
		\tdplotmult{\casbsg}{\casb}{\singamma}
		\tdplotmult{\casbcg}{\casb}{\cosgamma}
		%
		%determine rotation matrix elements for Euler transformation
		\pgfmathsetmacro{\raaeul}{\cacb}
		\pgfmathsetmacro{\rabeul}{\casbsg - \sacg}
		\pgfmathsetmacro{\raceul}{\sasg + \casbcg}
		\pgfmathsetmacro{\rbaeul}{\sacb}
		\pgfmathsetmacro{\rbbeul}{\sasbsg + \cacg}
		\pgfmathsetmacro{\rbceul}{\sasbcg - \casg}
		\pgfmathsetmacro{\rcaeul}{-\sinbeta}
		\pgfmathsetmacro{\rcbeul}{\cbsg}
		\pgfmathsetmacro{\rcceul}{\cbcg}
	}
}
% ----------------------------------------------------------------------
% makeindex package
%-----------------------------------------------------------------------
% A general purpose hierarchical index generator.
%
% It is needed for glossaries package
\usepackage{makeidx}
\makeindex

% ----------------------------------------------------------------------
% 'hyperref' package
% ----------------------------------------------------------------------
% Extensive support for hypertext in LaTeX.
% http://www.ctan.org/tex-archive/macros/latex/contrib/hyperref/
%
% > Extends the functionality of all the LATEX cross-referencing
%   commands (including the table of contents, bibliographies etc) to
%   produce \special commands which a driver can turn into hypertext
%   links; Also provides new commands to allow the user to write adhoc
%   hypertext links, including those to external documents and URLs.
%
\usepackage[pdftex]{hyperref} % enhance documents that are to be
                              % output as HTML and PDF
\hypersetup{colorlinks,       % color text of links and anchors,
                              % eliminates borders around links
%            linkcolor=red,    % color for normal internal links
            linkcolor=black,  % color for normal internal links
            anchorcolor=black,% color for anchor text
            citecolor=green,  % color for bibliographical citations
%            citecolor=black,  % color for bibliographical citations
%            filecolor=magenta,% color for URLs which open local files
            filecolor=black,  % color for URLs which open local files
%            menucolor=red,    % color for Acrobat menu items
            menucolor=black,  % color for Acrobat menu items
%            pagecolor=red,    % color for links to other pages
%            pagecolor=black,  % color for links to other pages
            urlcolor=cyan,    % color for linked URLs
%            urlcolor=black,   % color for linked URLs
%	          bookmarks=true,         % create PDF bookmarks
	          bookmarksopen=false,    % don't expand bookmarks
	          bookmarksnumbered=true, % number bookmarks
	          pdftitle={VIENA Documentation},
            pdfauthor={Bruno Tibério},
            %pdfsubject={Thesis Title},
            %pdfkeywords={Thesis Keywords},
            pdfstartview=FitV,
            pdfdisplaydoctitle=true}

% ----------------------------------------------------------------------
% 'glossaries' package
% ----------------------------------------------------------------------
%
% Create a glossaries.
% An updated version of glossary package
% http://www.ctan.org/tex-archive/macros/latex/contrib/glossaries/
%
% Glossaries (produces *.glo *.ist files)
% ----------------------------------------------------------------------
\usepackage[nogroupskip,nonumberlist,acronym,nomain,order=letter]{glossaries}
\newglossary*{nomencl}{Nomenclature}
\makeglossaries
% ----------------------------------------------------------------------

% ----------------------------------------------------------------------
% 'hypcap' package
% ----------------------------------------------------------------------
% Adjusting the anchors of captions.
% http://www.ctan.org/tex-archive/macros/latex/contrib/oberdiek/
%
% > fixes the problem with hyperref, that links to floats points
%   below the caption and not at the beginning of the float.
%
\usepackage[figure,table]{hypcap}

% ----------------------------------------------------------------------
% 'natbib' package
% ----------------------------------------------------------------------
% Flexible bibliography support.
% http://www.ctan.org/tex-archive/macros/latex/contrib/natbib/
%
% > produce author-year style citations
%
% \citet  and \citep  for textual and parenthetical citations, respectively
% \citet* and \citep* that print the full author list, and not just the
%abbreviated one
% \citealt is the same as \citet but without parentheses. Similarly, \citealp
%is \citep without parentheses
% \citeauthor
% \citeyear
% \citeyearpar
%
% ******************************* SELECT *******************************
%\usepackage{natbib}          % <<<<< References in alphabetical list Correia,
%%Silva, ...
\usepackage[numbers]{natbib} % <<<<< References in numbered list [1],[2],...
% ******************************* SELECT *******************************

% ----------------------------------------------------------------------
% 'notoccite' package
% ----------------------------------------------------------------------
% Prevent trouble from citations in table of contents, etc.
% http://ctan.org/pkg/notoccite
%
% > If you have \cite com­mands in \sec­tion-like com­mands, or in \cap­tion,
%   the ci­ta­tion will also ap­pear in the ta­ble of con­tents, or list of
%what­ever .If you are also us­ing an un­srt-like bib­li­og­ra­phy style, these
%ci­ta­tions wi
%   come at the very start of the bib­li­og­ra­phy, which is con­fus­ing. This
%pack­age
%   sup­presses the ef­fect.
%
\usepackage{notoccite}

% ----------------------------------------------------------------------
% 'multirow' package
% ----------------------------------------------------------------------
% Create tabular cells spanning multiple rows
% http://www.ctan.org/pkg/multirow
%
\usepackage{multirow}

% ----------------------------------------------------------------------
% 'booktabs' package
% ----------------------------------------------------------------------
% Publication quality tables in LaTeX
% http://www.ctan.org/pkg/booktabs
%
% > en­hance the qual­ity of ta­bles in LaTeX, pro­vid­ing ex­tra com­mands.
%
% \renewcommand{\arraystretch}{<ratio>} % space between rows
%
\usepackage{booktabs}
%\newcommand{\ra}[1]{\renewcommand{\arraystretch}{#1}}


% ----------------------------------------------------------------------
% 'pdfpages' package
% ----------------------------------------------------------------------
% Include PDF documents in LaTeX
% http://www.ctan.org/pkg/pdfpages
%
% > in­clu­sion of ex­ter­nal multi-page PDF doc­u­ments in LaTeX doc­u­ments.
%   Pages may be freely se­lected and sim­i­lar to psnup it is pos­si­ble to 
%put
%   sev­eral log­i­cal pages onto each sheet of pa­per.
%
% \includepdf{filename.pdf}
% \includepdf[pages={4-9},nup=2x3,landscape=true]{filename.pdf}
%
\usepackage{pdfpages}


% ----------------------------------------------------------------------
% The default for LaTeX is to have no indent after sectional headings, like
% \chapter and \section.
% ----------------------------------------------------------------------
\usepackage{indentfirst}

% ----------------------------------------------------------------------
% enumitem
% ----------------------------------------------------------------------
% For creating lists
\usepackage{enumitem}


% ----------------------------------------------------------------------
% algorithm related
% ----------------------------------------------------------------------

\usepackage{algorithm}
\usepackage{algpseudocode}

\algnewcommand\algorithmicswitch{\textbf{switch}}
\algnewcommand\algorithmiccase{\textbf{case}}
\algdef{SE}[SWITCH]{Switch}{EndSwitch}[1]{\algorithmicswitch\ #1\ \algorithmicdo}{\algorithmicend\ \algorithmicswitch}%
\algdef{SE}[CASE]{Case}{EndCase}[1]{\algorithmiccase\ #1}{\algorithmicend\ \algorithmiccase}%
\algtext*{EndSwitch}%
\algtext*{EndCase}%



% ----------------------------------------------------------------------
% Define new commands to assure consistent treatment throughout document
% ----------------------------------------------------------------------

%\newcommand{\ud}{\mathrm{d}}                % total derivative
\newcommand{\degree}{\ensuremath{^\circ\,}} % degrees

%---------------------------------------------------------------------------
% package to include source code
%---------------------------------------------------------------------------
\usepackage{listings}
\lstset{ 
	backgroundcolor=\color{white}, % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}; should come as last argument
	basicstyle=\normalsize\ttfamily,        % the size of the fonts that are used for the code
	breakatwhitespace=false,       % sets if automatic breaks should only happen at whitespace
	breaklines=true,               % sets automatic line breaking
	captionpos=b,                  % sets the caption-position to bottom
	% commentstyle=\color{greenmat},   % comment style
	deletekeywords={...},          % if you want to delete keywords from the given language
	escapeinside={\%*}{*)},        % if you want to add LaTeX within your code
	extendedchars=true,            % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
	frame=single,	               % adds a frame around the code
	keepspaces=true,               % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
	% keywordstyle=\color{bluemat},% keyword style
	%language=Octave,              % the language of the code
	morekeywords={*,...},          % if you want to add more keywords to the set
	numbers=left,                  % where to put the line-numbers; possible values are (none, left, right)
	numbersep=5pt,				   % how far the line-numbers are from the code
	stepnumber=1,
	numberstyle=\tiny\color{gray}, % the style that is used for the line-numbers
	rulecolor=\color{black},       % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
	showspaces=false,              % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
	showstringspaces=false,        % underline spaces within strings only
	showtabs=false,                % show tabs within strings adding particular underscores
	stringstyle=\color{red},       % string literal style
	tabsize=2,	                   % sets default tabsize to 2 spaces
	title=\lstname,                % show the filename of files included with \lstinputlisting; also try caption instead of title
	belowskip=-0.8\baselineskip
}


\providecommand{\tightlist}{\setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\providecommand{\console}[1]{\colorbox{gray!15}{#1}}

% Some custom font markup commands.
\providecommand{\prefix}[1]{\normalfont{\texttt{#1}}}
\providecommand{\args}[1]{\texttt{(\emph{#1})}}

\pdfminorversion=6
\providecommand{\Warning}{%
    \makebox[1.4em][c]{%
        \makebox[0pt][c]{\raisebox{.1em}{\small!}}%
        \makebox[0pt][c]{\color{red}\Large$\bigtriangleup$}}}%

\usepackage[framemethod=TikZ]{mdframed}
